DROP TABLE IF EXISTS CHOIR_ATTENDANCE;
DROP TABLE IF EXISTS CHOIR_C_POSITION;
DROP TABLE IF EXISTS CHOIR_MEMBER;
DROP TABLE IF EXISTS CHOIR_PART;
DROP TABLE IF EXISTS CHOIR_POSITION;
DROP TABLE IF EXISTS CHOIR_PRACTICE;
DROP TABLE IF EXISTS CHOIR_PRACTICE_INFO;
DROP TABLE IF EXISTS CHOIR_STATUS;
DROP TABLE IF EXISTS MEETTING_DOC;
DROP TABLE IF EXISTS CHOIR_CODE;

CREATE TABLE MEETTING_DOC (
  MEET_SEQ INTEGER AUTO_INCREMENT PRIMARY KEY,  
  MEET_DT VARCHAR(10) NOT NULL,  
  MEET_TITLE VARCHAR(1000) NOT NULL,  
  MEET_CONTENTS TEXT NOT NULL,  
  REG_DT DATE NOT NULL,  
  UPT_DT DATE NOT NULL,  
  LOCK_YN CHAR(1) NOT NULL DEFAULT 'N'
);

CREATE TABLE CHOIR_STATUS (
  STATUS_CD CHAR(1)  NOT NULL,
  STATUS_NM VARCHAR(20) NOT NULL,
  USE_YN CHAR(1) NOT NULL DEFAULT 'Y',  ORDERBY_NO int(11) NOT NULL,  
  PRIMARY KEY (STATUS_CD)
);

CREATE TABLE CHOIR_PRACTICE_INFO (
  PRACTICE_DT VARCHAR(10) NOT NULL DEFAULT '',  
  PRACTICE_CD VARCHAR(10) NOT NULL DEFAULT '',  
  MUSIC_INFO TEXT,  
  ETC_MSG TEXT,  
  LOCK_YN CHAR(1) NOT NULL DEFAULT 'N',  
  PRIMARY KEY (PRACTICE_DT,PRACTICE_CD)
);

CREATE TABLE CHOIR_PRACTICE (
  PRACTICE_CD VARCHAR(10) NOT NULL,  
  PRACTICE_NM VARCHAR(30) NOT NULL,  
  USE_YN CHAR(1) NOT NULL DEFAULT 'Y',  
  ORDERBY_NO int(11) NOT NULL
);

CREATE TABLE CHOIR_POSITION (
  POSITION_CD VARCHAR(10) NOT NULL,  
  POSITION_NM VARCHAR(20) NOT NULL,  
  USE_YN CHAR(1) NOT NULL DEFAULT 'Y',  
  ORDERBY_NO int(11) NOT NULL,  
  PRIMARY KEY (POSITION_CD)
);

CREATE TABLE CHOIR_PART (
  PART_CD VARCHAR(10) NOT NULL DEFAULT '',  
  PART_ENG_NM VARCHAR(20) NOT NULL,  
  PART_NM VARCHAR(20) NOT NULL,  
  USE_YN CHAR(1) NOT NULL DEFAULT 'Y',  
  ORDERBY_NO int(11) NOT NULL,  
  PRIMARY KEY (PART_CD)
);

CREATE TABLE CHOIR_MEMBER (
  MEMBER_ID INTEGER AUTO_INCREMENT PRIMARY KEY,  
  MEMBER_NM VARCHAR(20) NOT NULL,  
  BIRTHDAY VARCHAR(20) DEFAULT NULL,  
  BIRTHDAY_CD CHAR(1) DEFAULT NULL,  
  PHONE_NO VARCHAR(13) DEFAULT NULL,  
  E_MAIL VARCHAR(50) DEFAULT NULL,  
  ADDRESS TEXT,  
  PART_CD VARCHAR(10) NOT NULL,  
  POSITION_CD VARCHAR(10) NOT NULL,  
  C_POSITION_CD VARCHAR(20) DEFAULT NULL,  
  STATUS_CD CHAR(1) NOT NULL,  
  ETC_MSG TEXT,  
  REG_DT DATE DEFAULT NULL,  
  MODIFY_DT DATE DEFAULT NULL
);

CREATE TABLE CHOIR_C_POSITION (
  C_POSITION_CD VARCHAR(10) NOT NULL DEFAULT '',
  C_POSITION_NM VARCHAR(20) NOT NULL,
  USE_YN CHAR(1) NOT NULL DEFAULT 'Y',
  ORDERBY_NO int(11) NOT NULL,
  PRIMARY KEY (C_POSITION_CD)
);

CREATE TABLE CHOIR_ATTENDANCE (
  PRACTICE_DT VARCHAR(10) NOT NULL, 
  PRACTICE_CD VARCHAR(2) NOT NULL, 
  MEMBER_ID INTEGER NOT NULL, 
  PRIMARY KEY (PRACTICE_DT, PRACTICE_CD, MEMBER_ID)
);

CREATE TABLE CHOIR_CODE (
  GRP_CD VARCHAR(20) NOT NULL,
  CMN_CD VARCHAR(10) NOT NULL,
  CMN_NM VARCHAR(30) NOT NULL,
  OPT_1 VARCHAR(30),
  OPT_2 VARCHAR(30),
  OPT_3 VARCHAR(30),
  USE_YN VARCHAR(1) NOT NULL DEFAULT 'Y',
  ORDERBY_NO INTEGER NOT NULL,
  PRIMARY KEY (GRP_CD, CMN_CD)
);

CREATE INDEX idx_USE_YN on CHOIR_PART(USE_YN);
CREATE INDEX idx_CHOIR_POSITION_USE_YN  on CHOIR_POSITION(USE_YN);
CREATE INDEX IDX_STATUS_CD on CHOIR_MEMBER(STATUS_CD);
CREATE INDEX IDX_POSITION_CD on CHOIR_MEMBER(POSITION_CD);
CREATE INDEX IDX_PART_CD on CHOIR_MEMBER(PART_CD);
CREATE INDEX IDX_MEMBER_PART_3 ON CHOIR_MEMBER (PART_CD ASC, POSITION_CD ASC, C_POSITION_CD ASC, STATUS_CD ASC);
CREATE INDEX IDX_MEMBER_PART_2 ON CHOIR_MEMBER (PART_CD ASC, POSITION_CD ASC, STATUS_CD ASC);
CREATE INDEX IDX_MEMBER_PART_1 ON CHOIR_MEMBER (PART_CD ASC, STATUS_CD ASC);
COMMIT;

ALTER TABLE CHOIR_ATTENDANCE CONVERT TO CHARACTER SET UTF8;
ALTER TABLE CHOIR_C_POSITION CONVERT TO CHARACTER SET UTF8;
ALTER TABLE CHOIR_MEMBER CONVERT TO CHARACTER SET UTF8;
ALTER TABLE CHOIR_PART CONVERT TO CHARACTER SET UTF8;
ALTER TABLE CHOIR_POSITION CONVERT TO CHARACTER SET UTF8;
ALTER TABLE CHOIR_PRACTICE CONVERT TO CHARACTER SET UTF8;
ALTER TABLE CHOIR_PRACTICE_INFO CONVERT TO CHARACTER SET UTF8;
ALTER TABLE CHOIR_STATUS CONVERT TO CHARACTER SET UTF8;
ALTER TABLE MEETTING_DOC CONVERT TO CHARACTER SET UTF8;
ALTER TABLE CHOIR_CODE CONVERT TO CHARACTER SET UTF8;

INSERT INTO `CHOIR_CODE` VALUES ('CHOIR_STATUS', 'O', '활동상태', null, null, null, 'Y', 10);
INSERT INTO `CHOIR_CODE` VALUES ('CHOIR_STATUS', 'H', '휴직상태', null, null, null, 'Y', 20);
INSERT INTO `CHOIR_CODE` VALUES ('CHOIR_STATUS', 'X', '탈단상태', null, null, null, 'Y', 30);

INSERT INTO `CHOIR_CODE` VALUES ('CHOIR_PRACTICE', 'AM', '오전연습', null, null, null, 'Y', 10);
INSERT INTO `CHOIR_CODE` VALUES ('CHOIR_PRACTICE', 'PM', '오후연습', null, null, null, 'Y', 20);
INSERT INTO `CHOIR_CODE` VALUES ('CHOIR_PRACTICE', 'SP', '특별연습', null, null, null, 'Y', 30);

INSERT INTO `CHOIR_CODE` VALUES ('CHOIR_POSITION', 'DJ', '대장', null, null, null, 'Y', 10);
INSERT INTO `CHOIR_CODE` VALUES ('CHOIR_POSITION', 'JHJ', '지휘자', null, null, null, 'Y', 20);
INSERT INTO `CHOIR_CODE` VALUES ('CHOIR_POSITION', 'BJJ', '반주자', null, null, null, 'Y', 23);
INSERT INTO `CHOIR_CODE` VALUES ('CHOIR_POSITION', 'CM', '총무', null, null, null, 'Y', 30);
INSERT INTO `CHOIR_CODE` VALUES ('CHOIR_POSITION', 'BCM', '부총무', null, null, null, 'Y', 40);
INSERT INTO `CHOIR_CODE` VALUES ('CHOIR_POSITION', 'HG', '회계', null, null, null, 'Y', 50);
INSERT INTO `CHOIR_CODE` VALUES ('CHOIR_POSITION', 'SG', '서기', null, null, null, 'Y', 60);
INSERT INTO `CHOIR_CODE` VALUES ('CHOIR_POSITION', 'PTJ', '파트장', null, null, null, 'Y', 70);
INSERT INTO `CHOIR_CODE` VALUES ('CHOIR_POSITION', 'ABBJ', '악보부장', null, null, null, 'Y', 80);
INSERT INTO `CHOIR_CODE` VALUES ('CHOIR_POSITION', 'CYDW', '찬양대원', null, null, null, 'Y', 90);

INSERT INTO `CHOIR_CODE` VALUES ('CHOIR_PART', 'A', '알토', 'Alto', null, null, 'Y', 20);
INSERT INTO `CHOIR_CODE` VALUES ('CHOIR_PART', 'B', '베이스', 'Bass', null, null, 'Y', 40);
INSERT INTO `CHOIR_CODE` VALUES ('CHOIR_PART', 'E', '기타', 'Etc', null, null, 'Y', 100);
INSERT INTO `CHOIR_CODE` VALUES ('CHOIR_PART', 'S', '소프라노', 'Soprano', null, null, 'Y', 10);
INSERT INTO `CHOIR_CODE` VALUES ('CHOIR_PART', 'T', '테너', 'Tenor', null, null, 'Y', 30);

INSERT INTO `CHOIR_CODE` VALUES ('CHOIR_C_POSITION', 'SD', '성도', 'Tenor', null, null, 'Y', 10);
INSERT INTO `CHOIR_CODE` VALUES ('CHOIR_C_POSITION', 'JS', '집사', 'Tenor', null, null, 'Y', 20);
INSERT INTO `CHOIR_CODE` VALUES ('CHOIR_C_POSITION', 'JR', '장로', 'Tenor', null, null, 'Y', 30);
INSERT INTO `CHOIR_CODE` VALUES ('CHOIR_C_POSITION', 'GS', '권사', 'Tenor', null, null, 'Y', 40);

INSERT INTO `CHOIR_STATUS` VALUES ('H','휴직상태','Y',20);
INSERT INTO `CHOIR_STATUS` VALUES ('O','활동상태','Y',10);
INSERT INTO `CHOIR_STATUS` VALUES ('X','탈단상태','Y',30);

INSERT INTO `CHOIR_PRACTICE_INFO` VALUES ('2015-11-28','SP','성탄절 칸타타 - 사랑의 왕, 복된 이름, 죄인들의 구세주,쉴 방이 없네, 하나님께 영광!','연합찬양대 - S6 A2 T0 B0','Y');

INSERT INTO `CHOIR_PRACTICE` VALUES ('AM','오전연습','Y',10);
INSERT INTO `CHOIR_PRACTICE` VALUES ('PM','오후연습','Y',20);
INSERT INTO `CHOIR_PRACTICE` VALUES ('SP','특별연습','Y',30);

INSERT INTO `CHOIR_POSITION` VALUES ('ABBJ','악보부장','Y',80);
INSERT INTO `CHOIR_POSITION` VALUES ('BCM','부총무','Y',40);
INSERT INTO `CHOIR_POSITION` VALUES ('BJJ','반주자','Y',23);
INSERT INTO `CHOIR_POSITION` VALUES ('CM','총무','Y',30);
INSERT INTO `CHOIR_POSITION` VALUES ('CYDW','찬양대원','Y',90);
INSERT INTO `CHOIR_POSITION` VALUES ('DJ','대장','Y',10);
INSERT INTO `CHOIR_POSITION` VALUES ('HG','회계','Y',50);
INSERT INTO `CHOIR_POSITION` VALUES ('JHJ','지휘자','Y',20);
INSERT INTO `CHOIR_POSITION` VALUES ('PTJ','파트장','Y',70);
INSERT INTO `CHOIR_POSITION` VALUES ('SG','서기','Y',60);

INSERT INTO `CHOIR_PART` VALUES ('A','Alto','알토','Y',20);
INSERT INTO `CHOIR_PART` VALUES ('B','Bass','베이스','Y',40);
INSERT INTO `CHOIR_PART` VALUES ('E','Etc','기타','Y',100);
INSERT INTO `CHOIR_PART` VALUES ('S','Soprano','소프라노','Y',10);
INSERT INTO `CHOIR_PART` VALUES ('T','Tenor','테너','Y',30);

INSERT INTO `CHOIR_MEMBER` VALUES (1,'김태희','','+','010-1111-1111','','','S','CYDW','JS','O','','2010-11-04','2011-06-19 05:26:19');
INSERT INTO `CHOIR_MEMBER` VALUES (2,'송해교','','+','010-1111-1111','','','S','CYDW','JS','O','','2010-11-04','2010-12-17');
INSERT INTO `CHOIR_MEMBER` VALUES (3,'한지민','','+','010-1111-1111','','','S','CYDW','JS','O','','2010-11-04','2010-11-07');
INSERT INTO `CHOIR_MEMBER` VALUES (4,'한가인','','+','010-1111-1111','','','A','CYDW','SD','O','','2010-11-04','2010-11-07');
INSERT INTO `CHOIR_MEMBER` VALUES (5,'손예진','','+','010-1111-1111','','','A','CYDW','SD','O','','2010-11-04','2010-12-17');
INSERT INTO `CHOIR_MEMBER` VALUES (6,'이나영','','+','010-1111-1111','','','A','CYDW','SD','O','','2010-11-04','2010-11-07');
INSERT INTO `CHOIR_MEMBER` VALUES (7,'이승기','','+','010-1111-1111','','','T','CYDW','JS','O','','2010-11-04','2010-11-07');
INSERT INTO `CHOIR_MEMBER` VALUES (8,'유재석','','+','010-1111-1111','','','T','CYDW','JS','O','','2010-11-04','2011-12-18 03:04:37');
INSERT INTO `CHOIR_MEMBER` VALUES (9,'개리','','+','010-1111-1111','','','T','CYDW','JS','O','','2010-11-04','2010-11-06');
INSERT INTO `CHOIR_MEMBER` VALUES (10,'김종국','','+','010-1111-1111','','','B','CYDW','SD','O','','2010-11-04','2012-03-11 06:04:28');
INSERT INTO `CHOIR_MEMBER` VALUES (11,'박명수','','+','010-1111-1111','','','B','CYDW','SD','O','','2010-11-04','2010-12-19');
INSERT INTO `CHOIR_MEMBER` VALUES (12,'이휘재','','+','010-1111-1111','','','B','CYDW','JS','O','','2010-11-04','2010-12-17');
INSERT INTO `CHOIR_MEMBER` VALUES (13,'성시경','','+','010-1111-1111','','','E','CYDW','SD','O','','2010-11-04','2010-11-07');
INSERT INTO `CHOIR_MEMBER` VALUES (14,'이민우','','+','010-1111-1111','','','E','CYDW','SD','O','','2010-11-04','2010-12-17');
INSERT INTO `CHOIR_MEMBER` VALUES (15,'서강준','','+','010-1111-1111','','','E','CYDW','JS','O','','2010-11-04','2010-11-07');
INSERT INTO `CHOIR_MEMBER` VALUES (16,'전진','','+','010-1111-1111','','','B','CYDW','SD','H','','2010-11-04','2010-11-04');
INSERT INTO `CHOIR_MEMBER` VALUES (17,'종현','','+','010-1111-1111','','','B','CYDW','SD','H','','2010-11-04','2010-11-04');
INSERT INTO `CHOIR_MEMBER` VALUES (18,'이광수','','+','010-1111-1111','','','B','CYDW','SD','H','','2010-11-04','2010-11-04');
INSERT INTO `CHOIR_MEMBER` VALUES (19,'이민우','','+','010-1111-1111','','','B','CYDW','SD','X','','2010-11-04','2010-11-04');
INSERT INTO `CHOIR_MEMBER` VALUES (20,'규현','','+','010-1111-1111','','','B','CYDW','SD','X','','2010-11-04','2010-11-04');
INSERT INTO `CHOIR_MEMBER` VALUES (21,'정준영','','+','010-1111-1111','','','B','CYDW','SD','X','','2010-11-04','2010-11-04');

INSERT INTO `CHOIR_C_POSITION` VALUES ('SD','성도','Y',10);
INSERT INTO `CHOIR_C_POSITION` VALUES ('JS','집사','Y',20);
INSERT INTO `CHOIR_C_POSITION` VALUES ('JR','장로','Y',30);
INSERT INTO `CHOIR_C_POSITION` VALUES ('GS','권사','Y',40);

COMMIT;

